<?php
namespace Tet\Game\WallKick;

use Tet\Game\Block\Block;

class SrsWallKick implements WallKickInterface
{
    private $test = [
        0 => [
            1 => [[0, 0], [-1, 0], [-1, +1], [0, -2], [-1, -2]], // 0->R
            3 => [[0, 0], [+1, 0], [+1, +1], [0, -2], [+1, -2]], // 0->L
        ],
        1 => [
            0 => [[0, 0], [+1, 0], [+1, -1], [0, +2], [+1, +2]], // R->0
            2 => [[0, 0], [+1, 0], [+1, -1], [0, +2], [+1, +2]], // R->2
        ],
        2 => [
            1 => [[0, 0], [-1, 0], [-1, +1], [0, -2], [-1, -2]], // 2->R
            3 => [[0, 0], [+1, 0], [+1, +1], [0, -2], [+1, -2]], // 2->L
        ],
        3 => [
            2 => [[0, 0], [-1, 0], [-1, -1], [0, +2], [-1, +2]], // L->2
            0 => [[0, 0], [-1, 0], [-1, -1], [0, +2], [-1, +2]], // L->0
        ],
    ];

    private $testI = [
        0 => [
            1 => [[0, 0], [-2, 0], [+1, 0], [-2, -1], [+1, +2]], // 0->R
            3 => [[0, 0], [-1, 0], [+2, 0], [-1, +2], [+2, -1]], // 0->L
        ],
        1 => [
            0 => [[0, 0], [+2, 0], [-1, 0], [+2, +1], [-1, -2]], // R->0
            2 => [[0, 0], [-1, 0], [+2, 0], [-1, +2], [+2, -1]], // R->2
        ],
        2 => [
            1 => [[0, 0], [+1, 0], [-2, 0], [+1, -2], [-2, +1]], // 2->R
            3 => [[0, 0], [+2, 0], [-1, 0], [+2, +1], [-1, -2]], // 2->L
        ],
        3 => [
            2 => [[0, 0], [-2, 0], [+1, 0], [-2, -1], [+1, +2]], // L->2
            0 => [[0, 0], [+1, 0], [-2, 0], [+1, -2], [-2, +1]], // L->0
        ],
    ];

    public function getTestList($blockType, $fromOrientation, $toOrientation): array
    {
        if (Block::TYPE_I == $blockType) {
            return $this->testI[$fromOrientation][$toOrientation];
        }

        return $this->test[$fromOrientation][$toOrientation];
    }
}
